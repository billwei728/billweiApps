
// Form Validation
(function() {
    'use strict';
    window.addEventListener('load', function() {
        var forms = document.getElementsByClassName('needs-validation');
        // Loop over them and prevent submission
        var validation = Array.prototype.filter.call(forms, function(form) {
            form.addEventListener('submit', function(event) {
                if (form.checkValidity() === false) {
                    event.preventDefault();
                    event.stopPropagation();
                    if ($("#module_name_new").val() == '') {
                        $("#err_module_name_new").addClass("d-block");
                    }
                    if ($("#parent_node_new").val() == '') {
                        $("#err_parent_node_new").addClass("d-block");
                    }
                } else {
                    $(".loader").fadeIn();
                }
                form.classList.add('was-validated');
            }, false);
        });
    }, false);
})();

// Checkbox Validation
$(function() {
    var requiredCheckboxes = $(':checkbox[required]');
    requiredCheckboxes.change(function(){
        if (requiredCheckboxes.is(':checked')) {
            requiredCheckboxes.removeAttr('required');
        }
        else {
            requiredCheckboxes.attr('required', 'required');
        }
    });
});
